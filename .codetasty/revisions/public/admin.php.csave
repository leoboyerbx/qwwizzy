codetasty.revision.2.0
{"ts":1556921824,"restoring":false,"user_id":25751,"patch":[{"diffs":[[1,"<?php\nif (startsWith($page, \"login\")) { // pages sans template\n    include ROOT . '/pages/admin/login.php';\n} else if (startsWith($page, \"logout\")) { // pages sans template\n    session_destroy();\n    header(\"Location: /\");\n} else {\n    $auth = new Bdd\\Auth($app->getBdd());\n    if ($auth->estConnecte()) {\n        ob_start();\n        if (startsWith($page, \"themes/ajouter\")) {\n            include ROOT . '/pages/admin/themes/ajouter.php';\n        }\n\n        else if (startsWith($page, \"themes/supprimer\")) {\n            include ROOT . '/pages/admin/themes/supprimer.php';\n        }\n\n        else if (startsWith($page, \"themes/edit/\")) {\n            $id_theme = substr($page, 12);\n            include ROOT . '/pages/admin/themes/editer.php';\n        }\n\n        else if (startsWith($page, \"themes\")) {\n            include ROOT . '/pages/admin/themes/liste.php';\n        }\n\n        else if (startsWith($page, \"questions\")) {\n            include ROOT . '/pages/admin/questions/liste.php';\n        }\n\n        else if (startsWith($page, \"utilisateurs/changemdp\")) {\n            include ROOT . '/pages/admin/utilisateurs/changemdp.php';\n        }\n\n        else if (!$page) {\n            include ROOT . \"/pages/admin/dashboard.php\";\n        }\n\n        else {\n            echo \"Pas encore implémenté\";\n        }\n\n        $content = ob_get_clean();\n\n        //Injection du contenu dans le template correspondant\n        include ROOT.'/pages/templates/admin.php';\n    } else {\n        $app->set_flash('warning', \"Veuillez vous connecter.\");\n        header(\"Location: /admin/login\");\n    }\n}\n"]],"start1":0,"start2":0,"length1":0,"length2":1580}],"length":1580}